<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Forgive me Tammy 💗</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      background-color: #ffe6f0;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      text-align: center;
      margin: 0;
    }
    .container {
      margin-top: 60px;
      background: #fff0f5;
      border-radius: 25px;
      padding: 30px;
      width: 90%;
      max-width: 420px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 0 20px #ffb6c1;
      position: relative; /* needed for moving No button */
      overflow: hidden;
    }
    img {
      max-width: 100%;
      height: auto;
      border-radius: 20px;
      margin-bottom: 20px;
    }
    h1 { font-size: 22px; color: #d6336c; margin: 10px 0; }
    #heart { font-size: 24px; }
    button {
      font-size: 16px;
      padding: 10px 25px;
      margin: 10px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      transition: 0.2s;
    }
    #yesBtn { background-color: #ff69b4; color: white; }
    /* Start as NORMAL (static). We'll switch to absolute later. */
    #noBtn  { background-color: #f0a6ca; color: white; }
    #musicBtn {
      background-color: #c084fc; color: white;
      font-size: 14px; position: fixed; top: 10px; right: 10px; padding: 8px 15px;
    }
  </style>
</head>
<body>

<div class="container" id="box">
  <img id="mainImg" src="IMG_4904.jpg" alt="Please?">
  <h1 id="text">Namaig uuchilaach? 🥺</h1>
  <div id="buttons">
    <button id="yesBtn">Yes 💖</button>
    <button id="noBtn">No 😔</button>
  </div>
  <div id="heart">💕 💞 💕</div>
</div>

<!-- 🎵 Music Button -->
<button id="musicBtn" onclick="toggleMusic()">🎵 Play Music</button>
<audio id="bgMusic" src="choijoo.mp3" preload="auto"></audio>

<script>
  // ===== Music =====
  let isPlaying = false;
  const music = document.getElementById('bgMusic');
  function toggleMusic() {
    if (isPlaying) {
      music.pause();
      document.getElementById('musicBtn').innerText = "🎵 Play Music";
    } else {
      music.play().catch(()=>{}); // mobile may require a user gesture
      document.getElementById('musicBtn').innerText = "⏸️ Pause Music";
    }
    isPlaying = !isPlaying;
  }

  // ===== Buttons / Images =====
  let noClickCount = 0;
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const mainImg = document.getElementById("mainImg");
  const text = document.getElementById("text");
  const heart = document.getElementById("heart");
  const container = document.getElementById("box");

  function goRunAwayMode() {
    // switch to absolute only after first interaction
    noBtn.style.position = "absolute";
    noBtn.style.zIndex = "2";
    moveNoButton();
  }

  function moveNoButton() {
    const padding = 10;
    const maxX = container.clientWidth  - noBtn.offsetWidth  - padding;
    const maxY = container.clientHeight - noBtn.offsetHeight - padding;
    const i = Math.max(padding, Math.floor(Math.random() * maxX));
    const j = Math.max(padding, Math.floor(Math.random() * maxY));
    noBtn.style.left = `${i}px`;
    noBtn.style.top  = `${j}px`;
  }

  // First click on "No" changes image/text, then future hovers/taps make it run
  noBtn.addEventListener("click", () => {
    if (noClickCount === 0) {
      mainImg.src = "IMG_8546.JPG";   // exact filename + case
      text.innerText = "bi ingeed huleejiin 😔";
      noClickCount = 1;
      goRunAwayMode();
    } else {
      moveNoButton();
    }
  });

  // After first click, hovering/touching makes it run
  noBtn.addEventListener("mouseover", () => { if (noClickCount >= 1) moveNoButton(); });
  noBtn.addEventListener("touchstart", () => { if (noClickCount >= 1) moveNoButton(); }, {passive:true});

  yesBtn.addEventListener("click", () => {
    mainImg.src = "IMG_4905.jpg";     // exact filename + case
    text.innerHTML = "hairtaishuu, uuchilsand bayarlalaa 💗";
    text.style.fontSize = "24px";
    heart.innerHTML = "🎉🎊💗🎊🎉";
    yesBtn.style.display = "none";
    noBtn.style.display  = "none";
  });
</script>

</body>
</html>
